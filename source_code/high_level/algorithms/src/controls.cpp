#include "controls.h"

Joint_Angles_Two_Legs Controls::controlZMPPos(const Position &ref_ZMP_pos, const Position &act_ZMP_pos, const Joint_Angles_Two_Legs &act_joint_angles)
{
    Eigen::Vector2d ZMP_error = {ref_ZMP_pos.x - act_ZMP_pos.x, ref_ZMP_pos.y - act_ZMP_pos.y};

    if (ZMP_error(0) < ZMP_error_threshold_x && ZMP_error(1) < ZMP_error_threshold_y)
    {
        return act_joint_angles;
    }
    else
    {
        Eigen::Matrix<double, 2, 10> Jacobian;
        Jacobian << -(L3 * M3 * cos(act_joint_angles.left.hip_yaw) - C3.y * M3 * cos(act_joint_angles.left.hip_yaw) - C2.y * M2 * cos(act_joint_angles.left.hip_yaw) + C2.x * M2 * sin(act_joint_angles.left.hip_yaw) - C4.y * M4 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) + C3.x * M3 * cos(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_yaw) + C4.x * M4 * cos(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_yaw) + C4.z * M4 * cos(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) + C5.x * M5 * cos(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_yaw) + C6.x * M6 * cos(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_yaw) - L4 * M5 * cos(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) - L4 * M6 * cos(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) + C3.z * M3 * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) - C5.y * M5 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) + C5.z * M5 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) + C5.z * M5 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_pitch) - L5 * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) - L5 * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_pitch) + C4.z * M4 * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) + C5.y * M5 * cos(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) - L4 * M5 * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) - L4 * M6 * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) + C4.y * M4 * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) - C6.y * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * cos(act_joint_angles.left.ankle_pitch) + C6.z * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch) + C6.z * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.knee_pitch) + C6.z * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.knee_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_pitch) + C5.z * M5 * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) + C6.y * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch) + C6.y * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.ankle_pitch) + C6.y * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) - L5 * M6 * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) + C5.y * M5 * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.knee_pitch) + C5.y * M5 * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) - C6.z * M6 * cos(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch) - C5.z * M5 * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) + L5 * M6 * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) + C6.z * M6 * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) + C6.y * M6 * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.ankle_pitch) + C6.y * M6 * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.knee_pitch) + C6.y * M6 * cos(act_joint_angles.left.knee_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) - C6.z * M6 * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch) - C6.z * M6 * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.ankle_pitch) - C6.z * M6 * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) - C6.y * M6 * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch)) / MT, -(cos(act_joint_angles.left.hip_yaw) * (C3.x * M3 * sin(act_joint_angles.left.hip_roll) - C3.z * M3 * cos(act_joint_angles.left.hip_roll) + C4.x * M4 * sin(act_joint_angles.left.hip_roll) + C5.x * M5 * sin(act_joint_angles.left.hip_roll) + C6.x * M6 * sin(act_joint_angles.left.hip_roll) - C4.z * M4 * cos(act_joint_angles.left.hip_roll) * cos(act_joint_angles.left.hip_pitch) + L4 * M5 * cos(act_joint_angles.left.hip_roll) * cos(act_joint_angles.left.hip_pitch) + L4 * M6 * cos(act_joint_angles.left.hip_roll) * cos(act_joint_angles.left.hip_pitch) - C4.y * M4 * cos(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) - C5.z * M5 * cos(act_joint_angles.left.hip_roll) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) + L5 * M6 * cos(act_joint_angles.left.hip_roll) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) - C5.y * M5 * cos(act_joint_angles.left.hip_roll) * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) - C5.y * M5 * cos(act_joint_angles.left.hip_roll) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_pitch) + C5.z * M5 * cos(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) - L5 * M6 * cos(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) - C6.z * M6 * cos(act_joint_angles.left.hip_roll) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * cos(act_joint_angles.left.ankle_pitch) - C6.y * M6 * cos(act_joint_angles.left.hip_roll) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch) - C6.y * M6 * cos(act_joint_angles.left.hip_roll) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.knee_pitch) - C6.y * M6 * cos(act_joint_angles.left.hip_roll) * cos(act_joint_angles.left.knee_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_pitch) + C6.z * M6 * cos(act_joint_angles.left.hip_roll) * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch) + C6.z * M6 * cos(act_joint_angles.left.hip_roll) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.ankle_pitch) + C6.z * M6 * cos(act_joint_angles.left.hip_roll) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) + C6.y * M6 * cos(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch))) / MT, -(C4.z * M4 * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.hip_yaw) - L4 * M5 * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.hip_yaw) - L4 * M6 * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.hip_yaw) + C4.y * M4 * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) - C4.y * M4 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.hip_roll) + C5.z * M5 * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_yaw) - L5 * M6 * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_yaw) + C4.z * M4 * cos(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) + C5.y * M5 * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.knee_pitch) + C5.y * M5 * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) - L4 * M5 * cos(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) - L4 * M6 * cos(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) - C5.z * M5 * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) + L5 * M6 * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) - C5.y * M5 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_roll) + C6.z * M6 * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_yaw) + C5.z * M5 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.knee_pitch) + C5.z * M5 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) + C6.y * M6 * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.ankle_pitch) + C6.y * M6 * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.knee_pitch) + C6.y * M6 * cos(act_joint_angles.left.knee_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) - L5 * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.knee_pitch) - L5 * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) + C5.y * M5 * cos(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) - C6.z * M6 * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch) - C6.z * M6 * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.ankle_pitch) - C6.z * M6 * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) - C6.y * M6 * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch) - C6.y * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_roll) + C6.z * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.ankle_pitch) + C6.z * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.knee_pitch) + C6.z * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.knee_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) + C6.y * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch) + C6.y * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.ankle_pitch) + C6.y * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) - C6.z * M6 * cos(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch)) / MT, -(C5.z * M5 * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_yaw) - L5 * M6 * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_yaw) + C5.y * M5 * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.knee_pitch) + C5.y * M5 * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) - C5.z * M5 * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) + L5 * M6 * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) - C5.y * M5 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_roll) + C6.z * M6 * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_yaw) + C5.z * M5 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.knee_pitch) + C5.z * M5 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) + C6.y * M6 * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.ankle_pitch) + C6.y * M6 * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.knee_pitch) + C6.y * M6 * cos(act_joint_angles.left.knee_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) - L5 * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.knee_pitch) - L5 * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) + C5.y * M5 * cos(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) - C6.z * M6 * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch) - C6.z * M6 * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.ankle_pitch) - C6.z * M6 * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) - C6.y * M6 * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch) - C6.y * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_roll) + C6.z * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.ankle_pitch) + C6.z * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.knee_pitch) + C6.z * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.knee_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) + C6.y * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch) + C6.y * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.ankle_pitch) + C6.y * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) - C6.z * M6 * cos(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch)) / MT, -(C6.z * M6 * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_yaw) + C6.y * M6 * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.ankle_pitch) + C6.y * M6 * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.knee_pitch) + C6.y * M6 * cos(act_joint_angles.left.knee_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) - C6.z * M6 * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch) - C6.z * M6 * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.ankle_pitch) - C6.z * M6 * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) - C6.y * M6 * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch) - C6.y * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_roll) + C6.z * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.ankle_pitch) + C6.z * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.knee_pitch) + C6.z * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.knee_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) + C6.y * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch) + C6.y * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.ankle_pitch) + C6.y * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) - C6.z * M6 * cos(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch)) / MT, -(L3 * M3 * cos(act_joint_angles.right.hip_yaw) - C3.y * M3 * cos(act_joint_angles.right.hip_yaw) - C2.y * M2 * cos(act_joint_angles.right.hip_yaw) - C2.x * M2 * sin(act_joint_angles.right.hip_yaw) - C4.y * M4 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) + C3.x * M3 * cos(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_yaw) + C4.x * M4 * cos(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_yaw) + C4.z * M4 * cos(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) + C5.x * M5 * cos(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_yaw) + C6.x * M6 * cos(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_yaw) - L4 * M5 * cos(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) - L4 * M6 * cos(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) + C3.z * M3 * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) - C5.y * M5 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) + C5.z * M5 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) + C5.z * M5 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_pitch) - L5 * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) - L5 * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_pitch) + C4.z * M4 * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) + C5.y * M5 * cos(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) - L4 * M5 * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) - L4 * M6 * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) + C4.y * M4 * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) - C6.y * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * cos(act_joint_angles.right.ankle_pitch) + C6.z * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch) + C6.z * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.knee_pitch) + C6.z * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.knee_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_pitch) + C5.z * M5 * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) + C6.y * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch) + C6.y * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.ankle_pitch) + C6.y * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) - L5 * M6 * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) + C5.y * M5 * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.knee_pitch) + C5.y * M5 * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) - C6.z * M6 * cos(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch) - C5.z * M5 * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) + L5 * M6 * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) + C6.z * M6 * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) + C6.y * M6 * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.ankle_pitch) + C6.y * M6 * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.knee_pitch) + C6.y * M6 * cos(act_joint_angles.right.knee_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) - C6.z * M6 * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch) - C6.z * M6 * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.ankle_pitch) - C6.z * M6 * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) - C6.y * M6 * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch)) / MT, -(cos(act_joint_angles.right.hip_yaw) * (C3.x * M3 * sin(act_joint_angles.right.hip_roll) - C3.z * M3 * cos(act_joint_angles.right.hip_roll) + C4.x * M4 * sin(act_joint_angles.right.hip_roll) + C5.x * M5 * sin(act_joint_angles.right.hip_roll) + C6.x * M6 * sin(act_joint_angles.right.hip_roll) - C4.z * M4 * cos(act_joint_angles.right.hip_roll) * cos(act_joint_angles.right.hip_pitch) + L4 * M5 * cos(act_joint_angles.right.hip_roll) * cos(act_joint_angles.right.hip_pitch) + L4 * M6 * cos(act_joint_angles.right.hip_roll) * cos(act_joint_angles.right.hip_pitch) - C4.y * M4 * cos(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) - C5.z * M5 * cos(act_joint_angles.right.hip_roll) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) + L5 * M6 * cos(act_joint_angles.right.hip_roll) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) - C5.y * M5 * cos(act_joint_angles.right.hip_roll) * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) - C5.y * M5 * cos(act_joint_angles.right.hip_roll) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_pitch) + C5.z * M5 * cos(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) - L5 * M6 * cos(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) - C6.z * M6 * cos(act_joint_angles.right.hip_roll) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * cos(act_joint_angles.right.ankle_pitch) - C6.y * M6 * cos(act_joint_angles.right.hip_roll) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch) - C6.y * M6 * cos(act_joint_angles.right.hip_roll) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.knee_pitch) - C6.y * M6 * cos(act_joint_angles.right.hip_roll) * cos(act_joint_angles.right.knee_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_pitch) + C6.z * M6 * cos(act_joint_angles.right.hip_roll) * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch) + C6.z * M6 * cos(act_joint_angles.right.hip_roll) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.ankle_pitch) + C6.z * M6 * cos(act_joint_angles.right.hip_roll) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) + C6.y * M6 * cos(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch))) / MT, -(C4.z * M4 * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.hip_yaw) - L4 * M5 * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.hip_yaw) - L4 * M6 * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.hip_yaw) + C4.y * M4 * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) - C4.y * M4 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.hip_roll) + C5.z * M5 * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_yaw) - L5 * M6 * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_yaw) + C4.z * M4 * cos(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) + C5.y * M5 * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.knee_pitch) + C5.y * M5 * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) - L4 * M5 * cos(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) - L4 * M6 * cos(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) - C5.z * M5 * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) + L5 * M6 * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) - C5.y * M5 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_roll) + C6.z * M6 * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_yaw) + C5.z * M5 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.knee_pitch) + C5.z * M5 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) + C6.y * M6 * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.ankle_pitch) + C6.y * M6 * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.knee_pitch) + C6.y * M6 * cos(act_joint_angles.right.knee_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) - L5 * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.knee_pitch) - L5 * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) + C5.y * M5 * cos(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) - C6.z * M6 * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch) - C6.z * M6 * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.ankle_pitch) - C6.z * M6 * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) - C6.y * M6 * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch) - C6.y * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_roll) + C6.z * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.ankle_pitch) + C6.z * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.knee_pitch) + C6.z * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.knee_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) + C6.y * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch) + C6.y * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.ankle_pitch) + C6.y * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) - C6.z * M6 * cos(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch)) / MT, -(C5.z * M5 * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_yaw) - L5 * M6 * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_yaw) + C5.y * M5 * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.knee_pitch) + C5.y * M5 * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) - C5.z * M5 * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) + L5 * M6 * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) - C5.y * M5 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_roll) + C6.z * M6 * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_yaw) + C5.z * M5 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.knee_pitch) + C5.z * M5 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) + C6.y * M6 * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.ankle_pitch) + C6.y * M6 * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.knee_pitch) + C6.y * M6 * cos(act_joint_angles.right.knee_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) - L5 * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.knee_pitch) - L5 * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) + C5.y * M5 * cos(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) - C6.z * M6 * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch) - C6.z * M6 * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.ankle_pitch) - C6.z * M6 * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) - C6.y * M6 * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch) - C6.y * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_roll) + C6.z * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.ankle_pitch) + C6.z * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.knee_pitch) + C6.z * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.knee_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) + C6.y * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch) + C6.y * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.ankle_pitch) + C6.y * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) - C6.z * M6 * cos(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch)) / MT, -(C6.z * M6 * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_yaw) + C6.y * M6 * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.ankle_pitch) + C6.y * M6 * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.knee_pitch) + C6.y * M6 * cos(act_joint_angles.right.knee_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) - C6.z * M6 * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch) - C6.z * M6 * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.ankle_pitch) - C6.z * M6 * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) - C6.y * M6 * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch) - C6.y * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_roll) + C6.z * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.ankle_pitch) + C6.z * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.knee_pitch) + C6.z * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.knee_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) + C6.y * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch) + C6.y * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.ankle_pitch) + C6.y * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) - C6.z * M6 * cos(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch)) / MT,
            -(C2.x * M2 * cos(act_joint_angles.left.hip_yaw) - L3 * M3 * sin(act_joint_angles.left.hip_yaw) + C2.y * M2 * sin(act_joint_angles.left.hip_yaw) + C3.y * M3 * sin(act_joint_angles.left.hip_yaw) + C3.x * M3 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_roll) + C4.x * M4 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_roll) + C5.x * M5 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_roll) + C6.x * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_roll) + C3.z * M3 * cos(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) + C4.y * M4 * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.hip_yaw) - C4.z * M4 * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) + L4 * M5 * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) + L4 * M6 * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) + C4.z * M4 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.hip_roll) + C5.y * M5 * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_yaw) - L4 * M5 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.hip_roll) - L4 * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.hip_roll) + C4.y * M4 * cos(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) - C5.z * M5 * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.knee_pitch) - C5.z * M5 * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) + L5 * M6 * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.knee_pitch) + L5 * M6 * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) - C5.y * M5 * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) + C5.z * M5 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_roll) + C6.y * M6 * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_yaw) - L5 * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_roll) + C5.y * M5 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.knee_pitch) + C5.y * M5 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) - C6.z * M6 * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.ankle_pitch) - C6.z * M6 * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.knee_pitch) - C6.z * M6 * cos(act_joint_angles.left.knee_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) - C5.z * M5 * cos(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) - C6.y * M6 * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch) - C6.y * M6 * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.ankle_pitch) - C6.y * M6 * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) + L5 * M6 * cos(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) + C6.z * M6 * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch) + C6.z * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_roll) + C6.y * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.ankle_pitch) + C6.y * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.knee_pitch) + C6.y * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.knee_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) - C6.z * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch) - C6.z * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.ankle_pitch) - C6.z * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) - C6.y * M6 * cos(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch)) / MT, (sin(act_joint_angles.left.hip_yaw) * (C3.x * M3 * sin(act_joint_angles.left.hip_roll) - C3.z * M3 * cos(act_joint_angles.left.hip_roll) + C4.x * M4 * sin(act_joint_angles.left.hip_roll) + C5.x * M5 * sin(act_joint_angles.left.hip_roll) + C6.x * M6 * sin(act_joint_angles.left.hip_roll) - C4.z * M4 * cos(act_joint_angles.left.hip_roll) * cos(act_joint_angles.left.hip_pitch) + L4 * M5 * cos(act_joint_angles.left.hip_roll) * cos(act_joint_angles.left.hip_pitch) + L4 * M6 * cos(act_joint_angles.left.hip_roll) * cos(act_joint_angles.left.hip_pitch) - C4.y * M4 * cos(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) - C5.z * M5 * cos(act_joint_angles.left.hip_roll) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) + L5 * M6 * cos(act_joint_angles.left.hip_roll) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) - C5.y * M5 * cos(act_joint_angles.left.hip_roll) * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) - C5.y * M5 * cos(act_joint_angles.left.hip_roll) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_pitch) + C5.z * M5 * cos(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) - L5 * M6 * cos(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) - C6.z * M6 * cos(act_joint_angles.left.hip_roll) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * cos(act_joint_angles.left.ankle_pitch) - C6.y * M6 * cos(act_joint_angles.left.hip_roll) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch) - C6.y * M6 * cos(act_joint_angles.left.hip_roll) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.knee_pitch) - C6.y * M6 * cos(act_joint_angles.left.hip_roll) * cos(act_joint_angles.left.knee_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_pitch) + C6.z * M6 * cos(act_joint_angles.left.hip_roll) * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch) + C6.z * M6 * cos(act_joint_angles.left.hip_roll) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.ankle_pitch) + C6.z * M6 * cos(act_joint_angles.left.hip_roll) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) + C6.y * M6 * cos(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch))) / MT, -(C4.z * M4 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) - L4 * M5 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) - L4 * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) + C4.y * M4 * cos(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) + C5.z * M5 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) - L5 * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) + C5.y * M5 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) + C5.y * M5 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_pitch) + C4.y * M4 * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) - C5.z * M5 * cos(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) + L5 * M6 * cos(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) - C4.z * M4 * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) + L4 * M5 * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) + L4 * M6 * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) + C6.z * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * cos(act_joint_angles.left.ankle_pitch) + C6.y * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch) + C6.y * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.knee_pitch) + C6.y * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.knee_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_pitch) + C5.y * M5 * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) - C6.z * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch) - C6.z * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.ankle_pitch) - C6.z * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) - C5.z * M5 * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.knee_pitch) - C5.z * M5 * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) - C6.y * M6 * cos(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch) + L5 * M6 * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.knee_pitch) + L5 * M6 * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) - C5.y * M5 * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) + C6.y * M6 * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) - C6.z * M6 * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.ankle_pitch) - C6.z * M6 * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.knee_pitch) - C6.z * M6 * cos(act_joint_angles.left.knee_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) - C6.y * M6 * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch) - C6.y * M6 * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.ankle_pitch) - C6.y * M6 * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) + C6.z * M6 * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch)) / MT, (L5 * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) - C5.z * M5 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) - C5.y * M5 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) - C5.y * M5 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_pitch) + C5.z * M5 * cos(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) - L5 * M6 * cos(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) - C6.z * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * cos(act_joint_angles.left.ankle_pitch) - C6.y * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch) - C6.y * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.knee_pitch) - C6.y * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.knee_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_pitch) - C5.y * M5 * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) + C6.z * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch) + C6.z * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.ankle_pitch) + C6.z * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) + C5.z * M5 * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.knee_pitch) + C5.z * M5 * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) + C6.y * M6 * cos(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch) - L5 * M6 * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.knee_pitch) - L5 * M6 * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) + C5.y * M5 * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) - C6.y * M6 * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) + C6.z * M6 * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.ankle_pitch) + C6.z * M6 * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.knee_pitch) + C6.z * M6 * cos(act_joint_angles.left.knee_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) + C6.y * M6 * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch) + C6.y * M6 * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.ankle_pitch) + C6.y * M6 * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) - C6.z * M6 * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch)) / MT, (C6.z * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch) - C6.y * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch) - C6.y * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.knee_pitch) - C6.y * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.knee_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_pitch) - C6.z * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * cos(act_joint_angles.left.ankle_pitch) + C6.z * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.ankle_pitch) + C6.z * M6 * cos(act_joint_angles.left.hip_yaw) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) + C6.y * M6 * cos(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch) - C6.y * M6 * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) + C6.z * M6 * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.ankle_pitch) + C6.z * M6 * cos(act_joint_angles.left.hip_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.knee_pitch) + C6.z * M6 * cos(act_joint_angles.left.knee_pitch) * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) + C6.y * M6 * cos(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch) + C6.y * M6 * cos(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.ankle_pitch) + C6.y * M6 * cos(act_joint_angles.left.ankle_pitch) * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) - C6.z * M6 * sin(act_joint_angles.left.hip_yaw) * sin(act_joint_angles.left.hip_roll) * sin(act_joint_angles.left.hip_pitch) * sin(act_joint_angles.left.knee_pitch) * sin(act_joint_angles.left.ankle_pitch)) / MT, -(C2.y * M2 * sin(act_joint_angles.right.hip_yaw) - C2.x * M2 * cos(act_joint_angles.right.hip_yaw) - L3 * M3 * sin(act_joint_angles.right.hip_yaw) + C3.y * M3 * sin(act_joint_angles.right.hip_yaw) + C3.x * M3 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_roll) + C4.x * M4 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_roll) + C5.x * M5 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_roll) + C6.x * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_roll) + C3.z * M3 * cos(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) + C4.y * M4 * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.hip_yaw) - C4.z * M4 * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) + L4 * M5 * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) + L4 * M6 * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) + C4.z * M4 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.hip_roll) + C5.y * M5 * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_yaw) - L4 * M5 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.hip_roll) - L4 * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.hip_roll) + C4.y * M4 * cos(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) - C5.z * M5 * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.knee_pitch) - C5.z * M5 * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) + L5 * M6 * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.knee_pitch) + L5 * M6 * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) - C5.y * M5 * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) + C5.z * M5 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_roll) + C6.y * M6 * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_yaw) - L5 * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_roll) + C5.y * M5 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.knee_pitch) + C5.y * M5 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) - C6.z * M6 * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.ankle_pitch) - C6.z * M6 * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.knee_pitch) - C6.z * M6 * cos(act_joint_angles.right.knee_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) - C5.z * M5 * cos(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) - C6.y * M6 * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch) - C6.y * M6 * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.ankle_pitch) - C6.y * M6 * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) + L5 * M6 * cos(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) + C6.z * M6 * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch) + C6.z * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_roll) + C6.y * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.ankle_pitch) + C6.y * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.knee_pitch) + C6.y * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.knee_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) - C6.z * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch) - C6.z * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.ankle_pitch) - C6.z * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) - C6.y * M6 * cos(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch)) / MT, (sin(act_joint_angles.right.hip_yaw) * (C3.x * M3 * sin(act_joint_angles.right.hip_roll) - C3.z * M3 * cos(act_joint_angles.right.hip_roll) + C4.x * M4 * sin(act_joint_angles.right.hip_roll) + C5.x * M5 * sin(act_joint_angles.right.hip_roll) + C6.x * M6 * sin(act_joint_angles.right.hip_roll) - C4.z * M4 * cos(act_joint_angles.right.hip_roll) * cos(act_joint_angles.right.hip_pitch) + L4 * M5 * cos(act_joint_angles.right.hip_roll) * cos(act_joint_angles.right.hip_pitch) + L4 * M6 * cos(act_joint_angles.right.hip_roll) * cos(act_joint_angles.right.hip_pitch) - C4.y * M4 * cos(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) - C5.z * M5 * cos(act_joint_angles.right.hip_roll) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) + L5 * M6 * cos(act_joint_angles.right.hip_roll) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) - C5.y * M5 * cos(act_joint_angles.right.hip_roll) * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) - C5.y * M5 * cos(act_joint_angles.right.hip_roll) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_pitch) + C5.z * M5 * cos(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) - L5 * M6 * cos(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) - C6.z * M6 * cos(act_joint_angles.right.hip_roll) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * cos(act_joint_angles.right.ankle_pitch) - C6.y * M6 * cos(act_joint_angles.right.hip_roll) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch) - C6.y * M6 * cos(act_joint_angles.right.hip_roll) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.knee_pitch) - C6.y * M6 * cos(act_joint_angles.right.hip_roll) * cos(act_joint_angles.right.knee_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_pitch) + C6.z * M6 * cos(act_joint_angles.right.hip_roll) * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch) + C6.z * M6 * cos(act_joint_angles.right.hip_roll) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.ankle_pitch) + C6.z * M6 * cos(act_joint_angles.right.hip_roll) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) + C6.y * M6 * cos(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch))) / MT, -(C4.z * M4 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) - L4 * M5 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) - L4 * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) + C4.y * M4 * cos(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) + C5.z * M5 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) - L5 * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) + C5.y * M5 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) + C5.y * M5 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_pitch) + C4.y * M4 * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) - C5.z * M5 * cos(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) + L5 * M6 * cos(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) - C4.z * M4 * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) + L4 * M5 * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) + L4 * M6 * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) + C6.z * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * cos(act_joint_angles.right.ankle_pitch) + C6.y * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch) + C6.y * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.knee_pitch) + C6.y * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.knee_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_pitch) + C5.y * M5 * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) - C6.z * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch) - C6.z * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.ankle_pitch) - C6.z * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) - C5.z * M5 * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.knee_pitch) - C5.z * M5 * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) - C6.y * M6 * cos(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch) + L5 * M6 * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.knee_pitch) + L5 * M6 * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) - C5.y * M5 * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) + C6.y * M6 * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) - C6.z * M6 * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.ankle_pitch) - C6.z * M6 * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.knee_pitch) - C6.z * M6 * cos(act_joint_angles.right.knee_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) - C6.y * M6 * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch) - C6.y * M6 * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.ankle_pitch) - C6.y * M6 * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) + C6.z * M6 * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch)) / MT, (L5 * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) - C5.z * M5 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) - C5.y * M5 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) - C5.y * M5 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_pitch) + C5.z * M5 * cos(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) - L5 * M6 * cos(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) - C6.z * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * cos(act_joint_angles.right.ankle_pitch) - C6.y * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch) - C6.y * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.knee_pitch) - C6.y * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.knee_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_pitch) - C5.y * M5 * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) + C6.z * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch) + C6.z * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.ankle_pitch) + C6.z * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) + C5.z * M5 * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.knee_pitch) + C5.z * M5 * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) + C6.y * M6 * cos(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch) - L5 * M6 * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.knee_pitch) - L5 * M6 * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) + C5.y * M5 * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) - C6.y * M6 * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) + C6.z * M6 * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.ankle_pitch) + C6.z * M6 * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.knee_pitch) + C6.z * M6 * cos(act_joint_angles.right.knee_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) + C6.y * M6 * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch) + C6.y * M6 * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.ankle_pitch) + C6.y * M6 * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) - C6.z * M6 * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch)) / MT, (C6.z * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch) - C6.y * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch) - C6.y * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.knee_pitch) - C6.y * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.knee_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_pitch) - C6.z * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * cos(act_joint_angles.right.ankle_pitch) + C6.z * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.ankle_pitch) + C6.z * M6 * cos(act_joint_angles.right.hip_yaw) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) + C6.y * M6 * cos(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch) - C6.y * M6 * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) + C6.z * M6 * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.ankle_pitch) + C6.z * M6 * cos(act_joint_angles.right.hip_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.knee_pitch) + C6.z * M6 * cos(act_joint_angles.right.knee_pitch) * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) + C6.y * M6 * cos(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch) + C6.y * M6 * cos(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.ankle_pitch) + C6.y * M6 * cos(act_joint_angles.right.ankle_pitch) * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) - C6.z * M6 * sin(act_joint_angles.right.hip_yaw) * sin(act_joint_angles.right.hip_roll) * sin(act_joint_angles.right.hip_pitch) * sin(act_joint_angles.right.knee_pitch) * sin(act_joint_angles.right.ankle_pitch)) / MT;
        
        Eigen::Vector<double, 10> delta_joint_angles;
        delta_joint_angles = ZMP_error_gain * (Jacobian.transpose() * Jacobian + LAMBDA * Eigen::MatrixXd::Identity(10, 10)).llt().solve(Jacobian.transpose() * ZMP_error);

        Joint_Angles_Two_Legs modified_joint_angles = act_joint_angles;
        modified_joint_angles.left.hip_yaw += delta_joint_angles(0);
        modified_joint_angles.left.hip_roll += delta_joint_angles(1);
        modified_joint_angles.left.hip_pitch += delta_joint_angles(2);
        modified_joint_angles.left.knee_pitch += delta_joint_angles(3);
        modified_joint_angles.left.ankle_pitch += delta_joint_angles(4);
        modified_joint_angles.right.hip_yaw += delta_joint_angles(5);
        modified_joint_angles.right.hip_roll += delta_joint_angles(6);
        modified_joint_angles.right.hip_pitch += delta_joint_angles(7);
        modified_joint_angles.right.knee_pitch += delta_joint_angles(8);
        modified_joint_angles.right.ankle_pitch += delta_joint_angles(9);

        return modified_joint_angles;
    }
}